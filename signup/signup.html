<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="reg.css">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <title>regform</title>
</head>
<body>
   <div class="box">
    <div class="container">
        <div class="top">
            <span>Don't have an account?</span>
            <header>Register now</header>
        </div>
        <div class="input-field">
            <input type="text" class="input" placeholder="Username" id="email">
            <i class='bx bx-user' ></i>
        </div>
        <div class="input-field">
            <input type="Password" class="input" placeholder="Password" id="psw">
            <i class='bx bx-lock-alt'></i>
        </div>
        <div class="input-field">
          <input type="Reset Password" class="input" placeholder="Reset Password" id="psw_repeat">
          <i class='bx bx-lock-alt'></i>
      </div>
        <div class="input-field">
            <!-- <button id="registerButton" class="registerButton" onclick="registerUser">Register</button> -->
            <input type="submit" class="submit" value ="Register" id="registerForm"> 
        </div>
        <div class = "form signin">
            <p>Already have an account?<a href = "../login/login.html">Sign in</a>.</p>
        </div>
        </div>
    </div>
</div>  
<script type="module">
    // Import the functions you need from the SDKs you need
     import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
     import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-analytics.js";
     import { getDatabase } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-database.js";
     import { getAuth, createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-auth.js";
     
     
     const firebaseConfig = {
    apiKey: "AIzaSyAqLdD_QDjhN9g3HLA_PPDtK-8-gZoOe2k",
    authDomain: "services-project-d9012.firebaseapp.com",
    databaseURL: "https://services-project-d9012-default-rtdb.firebaseio.com",
    projectId: "services-project-d9012",
    storageBucket: "services-project-d9012.appspot.com",
    messagingSenderId: "801261924275",
    appId: "1:801261924275:web:2add6cf0adb9d12541a5c6",
    measurementId: "G-B1Q8NLNHJG"
  };
     
     
     const app = initializeApp(firebaseConfig);
     const analytics = getAnalytics(app);
     const database = getDatabase(app);
     const auth = getAuth();
     
   
       registerForm.addEventListener('click', (e) => {
         e.preventDefault();
      
       // Get user input from the sign-up form
       var email = document.getElementById('email').value;
       var password = document.getElementById('psw').value;
       var password2 = document.getElementById('psw_repeat').value;
      // if (password == password2) {
     
         createUserWithEmailAndPassword(auth,email, password)
           .then((userCredential) => {
             // User sign-up successful
             const user = userCredential.user;
             console.log("User signed up:", user);
        window.location.href='../home/ad.html';
             // Additional actions after successful sign-up
           })
           .catch((error) => {
             // Handle sign-up errors
             const errorCode = error.code;
             const errorMessage = error.message;
             console.error("Sign-up error:", errorCode, errorMessage);
             alert('errormessage');
           });;
    // }
      // else {
         // Passwords do not match
       //  console.error("Passwords do not match");
         // Display an error message to the user or perform any other necessary action
      // }
     });
     
     </script>
</body>
</html>
